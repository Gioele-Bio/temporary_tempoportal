mkdir temp_filename
cp filename.fastq.gz temp_filename/
cd temp_filename

zcat file.fastq.gz > file.fastq

bwa index reference.fa

bwa mem -v 1 -c 2 -L 100 -t 8 reference.fa file.fastq > alignment.sam

samtools view -bS alignment.sam > alignment.bam

python /home/gioele/alignment_scripts/makeGtf.py reference.fa > input.gtf

featureCounts -a input.gtf -o read_count.txt {temp_name}Aligned.sortedByCoord.out.bam

rm all but read_count.txt


